version: 1
default_environment: dev
project_id: 88c91a02-d68b-4952-8e56-94a297cf141f
# drop this before "going public"
environments:
- name: dev
- name: staging
- name: prod
plugins:
  extractors:
  - name: tap-spreadsheets-anywhere
    variant: ets
    pip_url: git+https://github.com/ets/tap-spreadsheets-anywhere.git
    config:
      tables:
      - path: https://github.com/matsonj/nba-monte-carlo/raw/master/data
        name: raw_schedule
        pattern: nba_schedule_2023.csv
        start_date: '2001-01-01T00:00:00Z'
        key_properties: [key]
        format: csv
      - path: https://github.com/matsonj/nba-monte-carlo/raw/master/data
        name: raw_team_ratings
        pattern: team_ratings.csv
        start_date: '2001-01-01T00:00:00Z'
        key_properties: [team]
        format: csv
  loaders:
  - name: target-duckdb
    namespace: target_duckdb
    pip_url: target-duckdb==0.4.1
    executable: target-duckdb
    settings:
    - name: filepath
    - name: default_target_schema
    config:
      filepath: /tmp/mdsbox.db
      default_target_schema: main
  transformers:
  - name: dbt
    variant: dbt-labs
    pip_url: dbt-duckdb==1.2.1
    settings:
    - name: path
    config:
      path: /tmp/mdsbox.db
  utilities:
  - name: superset
    variant: apache
    pip_url: apache-superset==1.5.0 markupsafe==2.0.1 duckdb-engine==0.6.4
schedules:
- name: spreadsheets-anywhere-to-duckdb
  interval: '@once'
  extractor: tap-spreadsheets-anywhere
  loader: target-duckdb
  transform: skip
  start_date: 2022-10-01 18:08:45.303947
